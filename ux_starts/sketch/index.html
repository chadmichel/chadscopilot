<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sketch Todo</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/sketchy/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="sketch-header">
      <nav class="navbar navbar-expand-lg sketch-navbar" data-bs-theme="dark">
        <div class="container gap-3">
          <a class="navbar-brand fw-bold text-white" href="./index.html">Sketch Todo</a>

          <ul class="nav nav-tabs sketch-header-tabs mb-0 me-auto">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="./index.html">Tasks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./projects.html">Projects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./notifications.html">Notifications</a>
            </li>
          </ul>

          <div class="d-flex gap-2 align-items-center">
            <span class="badge text-bg-light" id="statsBadge">0 total</span>
            <button class="btn btn-outline-light btn-sm" id="seedBtn" type="button">
              Reset demo
            </button>
          </div>
        </div>
      </nav>
    </header>

    <main class="container py-4">
      <div class="row g-4 align-items-start">
        <div class="col-12 col-lg-7">
          <div class="card shadow-sm">
            <div class="card-body">
              <div class="d-flex align-items-start justify-content-between gap-3">
                <div>
                  <h1 class="h4 mb-1">Today’s tasks</h1>
                  <p class="text-muted mb-0">A sketchy Bootstrap todo template (local-only).</p>
                </div>
                <div class="btn-group" role="group" aria-label="Filters">
                  <button class="btn btn-secondary active" type="button" data-filter="all">
                    All
                  </button>
                  <button class="btn btn-secondary" type="button" data-filter="active">
                    Active
                  </button>
                  <button class="btn btn-secondary" type="button" data-filter="done">
                    Done
                  </button>
                </div>
              </div>

              <hr class="my-3" />

              <form id="addForm" class="row g-2 align-items-center">
                <div class="col-12 col-md-8">
                  <label class="form-label visually-hidden" for="newTodoInput">New task</label>
                  <input
                    id="newTodoInput"
                    class="form-control"
                    type="text"
                    autocomplete="off"
                    placeholder="Add a task… (e.g. “Email invoices”)"
                    maxlength="140"
                    required
                  />
                </div>
                <div class="col-12 col-md-4 d-grid">
                  <button class="btn btn-primary" type="submit">Add task</button>
                </div>
                <div class="col-12">
                  <div class="input-group">
                    <span class="input-group-text">Search</span>
                    <input
                      id="searchInput"
                      class="form-control"
                      type="search"
                      autocomplete="off"
                      placeholder="Filter tasks by text…"
                    />
                    <button class="btn btn-outline-secondary" type="button" id="clearSearchBtn">
                      Clear
                    </button>
                  </div>
                </div>
              </form>

              <div class="mt-3">
                <ul class="list-group" id="todoList" aria-label="Todo list"></ul>
              </div>

              <div class="d-flex flex-wrap justify-content-between align-items-center gap-2 mt-3">
                <small class="text-muted" id="footerStats">0 items</small>
                <div class="d-flex gap-2">
                  <button class="btn btn-outline-danger btn-sm" type="button" id="clearDoneBtn">
                    Clear completed
                  </button>
                  <button class="btn btn-outline-secondary btn-sm" type="button" id="clearAllBtn">
                    Clear all
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-lg-5">
          <div class="card shadow-sm">
            <div class="card-body">
              <h2 class="h5 mb-2">Selected task</h2>
              <p class="text-muted mb-3">
                This panel is here as a sketch template for “details/edit” UI.
              </p>

              <div class="sketch-empty" id="selectedEmpty">
                <div class="alert alert-secondary mb-0">
                  Select a task to see details here.
                </div>
              </div>

              <div class="d-none" id="selectedPanel">
                <div class="mb-2">
                  <span class="badge text-bg-secondary" id="selectedStatus">Active</span>
                  <span class="text-muted ms-2" id="selectedMeta">Created just now</span>
                </div>

                <div class="mb-3">
                  <label class="form-label" for="selectedText">Task</label>
                  <input id="selectedText" class="form-control" type="text" maxlength="140" />
                </div>

                <div class="d-flex flex-wrap gap-2">
                  <button class="btn btn-success" type="button" id="toggleSelectedBtn">
                    Mark done
                  </button>
                  <button class="btn btn-outline-danger" type="button" id="deleteSelectedBtn">
                    Delete
                  </button>
                </div>

                <hr class="my-3" />

                <div class="small text-muted">
                  Tip: this is intentionally “sketchy” and local-only. It saves to your browser’s
                  localStorage.
                </div>
              </div>
            </div>
          </div>

          <div class="card mt-4">
            <div class="card-body">
              <h3 class="h6 mb-2">Sketch notes</h3>
              <ul class="mb-0">
                <li>Use this as a starting point for layout + interaction.</li>
                <li>Swap components, add modals, add tags, etc.</li>
                <li>No backend: just local state + localStorage.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script type="module" src="./app.js"></script>
    <script>
      (() => {
        if (!("EventSource" in window)) return;
        const url = new URL("/__hmr", window.location.href);
        const es = new EventSource(url);
        es.addEventListener("reload", () => window.location.reload());
      })();
    </script>
  </body>
</html>
